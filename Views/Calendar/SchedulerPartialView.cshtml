@using DXMVCTestApplication.Models
@using DXMVCTestApplication.Controllers

@Html.DevExtreme().Scheduler(settings =>
{
    settings.Name = "appointments";
    settings.CallbackRouteValues = new { Controller = "Calendar", Action = "DXControlPartialView" };
    settings.EditAppointmentRouteValues = new { Controller = "Calendar", Action = "EditAppointment" };

    settings.Storage.Appointments.Assign(CalendarController.GetAppointmentsStorage());


    settings.Storage.EnableReminders = true;

    settings.StartDate = DateTime.Now;
    settings.Views.DayView = new DevExtreme.AspNet.Mvc.SchedulerViewSettings
    {
        Duration = TimeSpan.FromDays(1),
        IntervalCount = 1,
        CellDuration = TimeSpan.FromMinutes(30),
        AppointmentTemplate = "AppointmentTemplate"
    };


    settings.Width = Unit.Percentage(100);
    settings.Height = 400; 

    settings.OptionsCustomization.AllowAppointmentCreate = true;
    settings.OptionsCustomization.AllowAppointmentEdit = true;
    settings.OptionsCustomization.AllowAppointmentDelete = true;
}).Bind(Model).GetHtml()
